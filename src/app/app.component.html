<div class="container">
    <div class="col-xs-8 col-xs-offset-2">
        <form (ngSubmit)="submitedForm()" #form="ngForm">
            <div ngModelGroup="user" #user="ngModelGroup">
                <div class="form-group" [ngClass]="{'was-validated': email.invalid && email.touched}">
                    <label>Email</label>
                    <input type="text"
                           class="form-control"
                           ngModel
                           name="email"
                           required
                           email
                           #email="ngModel"
                    >
                    <p *ngIf="email.invalid && email.touched">Введите корректный email</p>
                    <button type="button" class="btn btn-info mt-3 mb-3" (click)="randEmail()">Добавить email</button>
                </div>
                <div class="form-group" [ngClass]="{'was-validated': pass.invalid && pass.touched}">
                    <label>Пароль</label>
                    <input type="password"
                           class="form-control"
                           ngModel
                           name="pass"
                           required
                           #pass="ngModel"
                    >
                    <p *ngIf="pass.touched && pass.invalid">Введите корректный пароль</p>
                </div>
                <h3 *ngIf="user.invalid && user.touched"> Данные введены неккоректно</h3>
            </div>
            <div class="form-group">
                <label>Выберите страну</label>
                <select class="form-control"
                        [ngModel]="defaultCountry"
                        name="select"
                        required
                >
                    <option value="ru">Россия</option>
                    <option value="by">Белоруссия</option>
                    <option value="ua">Украина</option>
                </select>
            </div>
            <div class="radio" *ngFor="let ans of answers">
                <label>
                    <input type="radio"
                           [value]="ans.type"
                           [ngModel]="defaultAnswer"
                           name="answer"
                           required
                    > {{ans.text}}
                </label>
            </div>
            <button class="btn btn-success"
                    type="submit"
                    [disabled]="!form.valid"
            >Сохранить
            </button>

        </form>
        <div *ngIf="isSubmitted">
            <pre>
                {{formData | json}}
            </pre>
        </div>
    </div>
</div>
